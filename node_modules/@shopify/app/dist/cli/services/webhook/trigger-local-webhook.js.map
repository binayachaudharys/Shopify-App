{"version":3,"file":"trigger-local-webhook.js","sourceRoot":"","sources":["../../../../src/cli/services/webhook/trigger-local-webhook.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,IAAI,EAAC,MAAM,kBAAkB,CAAA;AAErC;;;;;;;GAOG;AACH,MAAM,CAAC,KAAK,UAAU,mBAAmB,CAAC,OAAe,EAAE,IAAY,EAAE,OAAe;IACtF,MAAM,OAAO,GAAG;QACd,MAAM,EAAE,MAAM;QACd,IAAI;QACJ,OAAO,EAAE;YACP,cAAc,EAAE,kBAAkB;YAClC,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;SACvB;KACF,CAAA;IACD,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,OAAO,CAAC,CAAA;IACnD,OAAO,QAAQ,CAAC,MAAM,IAAI,GAAG,IAAI,QAAQ,CAAC,MAAM,GAAG,GAAG,CAAA;AACxD,CAAC","sourcesContent":["import {http} from '@shopify/cli-kit'\n\n/**\n * Sends a POST request to a local endpoint with a webhook payload\n *\n * @param address - local address where to send the POST message to\n * @param body - Webhook payload\n * @param headers - Webhook headers\n * @returns true if the message was delivered\n */\nexport async function triggerLocalWebhook(address: string, body: string, headers: string) {\n  const options = {\n    method: 'POST',\n    body,\n    headers: {\n      'Content-Type': 'application/json',\n      ...JSON.parse(headers),\n    },\n  }\n  const response = await http.fetch(address, options)\n  return response.status >= 200 && response.status < 300\n}\n"]}